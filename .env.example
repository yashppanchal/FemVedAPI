# ─────────────────────────────────────────────────────────────────────────────
# FemVed API — Environment Variables Reference
# Copy this file to .env (never commit .env to source control)
# All variables are REQUIRED unless marked (optional)
# ─────────────────────────────────────────────────────────────────────────────

# ── Database (PostgreSQL / Railway) ──────────────────────────────────────────
# Full Npgsql connection string
DB_CONNECTION_STRING=Host=containers-us-west-1.railway.app;Port=5432;Database=femved_db;Username=postgres;Password=your_db_password_here;SSL Mode=Require;Trust Server Certificate=true

# ── JWT Authentication ────────────────────────────────────────────────────────
# Must be at least 32 characters (256-bit). Use: openssl rand -base64 32
JWT_SECRET=replace-with-at-least-32-char-random-secret-here-abc123xyz

# Token issuer — your API base URL
JWT_ISSUER=https://api.femved.com

# Token audience — your frontend base URL
JWT_AUDIENCE=https://femved.com

# Access token lifetime in minutes (default: 15)
JWT_ACCESS_EXPIRY_MINUTES=15

# Refresh token lifetime in days (default: 7)
JWT_REFRESH_EXPIRY_DAYS=7

# ── SendGrid (Email) ──────────────────────────────────────────────────────────
# API key from SendGrid dashboard → Settings → API Keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Verified sender identity email (must be verified in SendGrid)
SENDGRID_FROM_EMAIL=hello@femved.com

# Display name for outgoing emails (optional — defaults to "FemVed")
SENDGRID_FROM_NAME=FemVed

# Dynamic template IDs — create templates in SendGrid → Email → Dynamic Templates
# Format: d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_TEMPLATE_PURCHASE_SUCCESS=d-00000000000000000000000000000001
SENDGRID_TEMPLATE_PURCHASE_FAILED=d-00000000000000000000000000000002
SENDGRID_TEMPLATE_PROGRAM_REMINDER=d-00000000000000000000000000000003
SENDGRID_TEMPLATE_EXPERT_NEW_ENROLLMENT=d-00000000000000000000000000000004
SENDGRID_TEMPLATE_PASSWORD_RESET=d-00000000000000000000000000000005
SENDGRID_TEMPLATE_EMAIL_VERIFY=d-00000000000000000000000000000006
SENDGRID_TEMPLATE_EXPERT_PROGRESS_UPDATE=d-00000000000000000000000000000007

# ── Twilio (WhatsApp / SMS) ───────────────────────────────────────────────────
# Account SID from Twilio Console dashboard
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Auth token from Twilio Console dashboard
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here

# WhatsApp sender number (Twilio Sandbox: whatsapp:+14155238886, prod: your approved number)
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# Set to "true" to enable WhatsApp sending; "false" to disable globally
WHATSAPP_ENABLED=false

# ── CashFree Payments (India — country_iso_code = IN) ──────────────────────────
# Base URL: use sandbox for dev, prod URL for production
# Sandbox: https://sandbox.cashfree.com/pg
# Production: https://api.cashfree.com/pg
CASHFREE_BASE_URL=https://sandbox.cashfree.com/pg

# App ID from CashFree dashboard → Credentials
CASHFREE_CLIENT_ID=your_cashfree_app_id_here

# Secret key from CashFree dashboard → Credentials
CASHFREE_CLIENT_SECRET=your_cashfree_secret_here

# ── PayPal Payments (UK / US — country_iso_code != IN) ────────────────────────
# Base URL: sandbox for dev, prod URL for production
# Sandbox: https://api-m.sandbox.paypal.com
# Production: https://api-m.paypal.com
PAYPAL_BASE_URL=https://api-m.sandbox.paypal.com

# Client ID from PayPal Developer dashboard → My Apps → App credentials
PAYPAL_CLIENT_ID=your_paypal_client_id_here

# Client Secret from PayPal Developer dashboard
PAYPAL_SECRET=your_paypal_secret_here

# Webhook ID from PayPal Developer dashboard → Webhooks
# Required for webhook signature verification
PAYPAL_WEBHOOK_ID=your_paypal_webhook_id_here

# ── Cloudflare R2 (File Storage) ──────────────────────────────────────────────
# Endpoint from Cloudflare dashboard → R2 → Account Details
# Format: https://<account-id>.r2.cloudflarestorage.com
R2_ENDPOINT=https://abcdef1234567890.r2.cloudflarestorage.com

# R2 API Token with Object Read & Write permission
R2_ACCESS_KEY=your_r2_access_key_here

# R2 API Token secret
R2_SECRET_KEY=your_r2_secret_key_here

# R2 bucket name (create in Cloudflare dashboard → R2 → Create bucket)
R2_BUCKET_NAME=femved-assets

# ── Application ───────────────────────────────────────────────────────────────
# Frontend base URL (used in verification email links, CORS allow-list)
APP_BASE_URL=https://femved.com

# ASP.NET Core environment: Development | Staging | Production
ASPNETCORE_ENVIRONMENT=Production

# ─────────────────────────────────────────────────────────────────────────────
# QUICK-START VALUES FOR LOCAL DEVELOPMENT
# Copy the block below into your .env / launchSettings.json
#
# DB_CONNECTION_STRING=Host=localhost;Port=5432;Database=femved_dev;Username=postgres;Password=postgres
# JWT_SECRET=dev-only-secret-at-least-32-chars-abc123
# JWT_ISSUER=https://localhost:5001
# JWT_AUDIENCE=http://localhost:3000
# JWT_ACCESS_EXPIRY_MINUTES=60
# JWT_REFRESH_EXPIRY_DAYS=30
# SENDGRID_API_KEY=SG.REPLACE_ME
# SENDGRID_FROM_EMAIL=dev@femved.com
# SENDGRID_FROM_NAME=FemVed Dev
# SENDGRID_TEMPLATE_PURCHASE_SUCCESS=d-placeholder
# SENDGRID_TEMPLATE_PURCHASE_FAILED=d-placeholder
# SENDGRID_TEMPLATE_PROGRAM_REMINDER=d-placeholder
# SENDGRID_TEMPLATE_EXPERT_NEW_ENROLLMENT=d-placeholder
# SENDGRID_TEMPLATE_PASSWORD_RESET=d-placeholder
# SENDGRID_TEMPLATE_EMAIL_VERIFY=d-placeholder
# SENDGRID_TEMPLATE_EXPERT_PROGRESS_UPDATE=d-placeholder
# TWILIO_ACCOUNT_SID=ACplaceholder
# TWILIO_AUTH_TOKEN=placeholder
# TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
# WHATSAPP_ENABLED=false
# CASHFREE_BASE_URL=https://sandbox.cashfree.com/pg
# CASHFREE_CLIENT_ID=placeholder
# CASHFREE_CLIENT_SECRET=placeholder
# PAYPAL_BASE_URL=https://api-m.sandbox.paypal.com
# PAYPAL_CLIENT_ID=placeholder
# PAYPAL_SECRET=placeholder
# PAYPAL_WEBHOOK_ID=placeholder
# R2_ENDPOINT=https://placeholder.r2.cloudflarestorage.com
# R2_ACCESS_KEY=placeholder
# R2_SECRET_KEY=placeholder
# R2_BUCKET_NAME=femved-dev-assets
# APP_BASE_URL=http://localhost:3000
# ASPNETCORE_ENVIRONMENT=Development
# ─────────────────────────────────────────────────────────────────────────────
